<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>বিস্তারিত সংবাদ | Adi Sonaton TV</title>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body { font-family: 'Hind Siliguri', sans-serif; background: #f9f9f9; margin: 0; padding: 0; line-height: 1.6; }
        .container { max-width: 800px; margin: 30px auto; background: #fff; padding: 25px; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        .back-btn { display: inline-block; margin-bottom: 20px; color: #1e3c72; text-decoration: none; font-weight: bold; }
        .news-title { font-size: clamp(24px, 5vw, 36px); color: #111; line-height: 1.3; margin-bottom: 15px; }
        .news-meta { color: #666; font-size: 14px; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .news-img { width: 100%; border-radius: 8px; margin-bottom: 25px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .news-desc { font-size: 18px; color: #333; white-space: pre-line; text-align: justify; }
        @media (max-width: 600px) { .container { margin: 10px; padding: 15px; } }
    </style>
</head>
<body>

<div class="container">
    <a href="javascript:history.back()" class="back-btn">← ফিরে যান</a>
    
    <div id="loader" style="text-align:center; padding: 50px;">লোড হচ্ছে...</div>
    
    <div id="news-content" style="display:none;">
        <h1 class="news-title" id="title"></h1>
        <div class="news-meta">
            বিভাগ: <span id="category" style="font-weight:bold; color:#e12229;"></span>
        </div>
        <img src="" id="image" class="news-img" alt="News Image">
        <div class="news-desc" id="description"></div>
    </div>
</div>

<script>
    // আপনার Supabase তথ্য বসান
    const SUPABASE_URL = 'YOUR_SUPABASE_URL';
    const SUPABASE_KEY = 'YOUR_SUPABASE_ANON_KEY';
    const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    // URL থেকে আইডি (ID) নেওয়া
    const urlParams = new URLSearchParams(window.location.search);
    const newsId = urlParams.get('id');

    async function loadFullNews() {
        if (!newsId) return;

        const { data, error } = await supabaseClient
            .from('news_portal')
            .select('*')
            .eq('id', newsId)
            .single();

        if (data) {
            document.getElementById('loader').style.display = 'none';
            document.getElementById('news-content').style.display = 'block';
            
            document.getElementById('title').innerText = data.title;
            document.getElementById('category').innerText = data.category;
            document.getElementById('image').src = data.image_url;
            document.getElementById('description').innerText = data.description;
            
            // ব্রাউজার ট্যাব টাইটেল পরিবর্তন
            document.title = data.title + " | Adi Sonaton TV";
        } else {
            document.getElementById('loader').innerText = "সংবাদটি পাওয়া যায়নি!";
        }
    }

    loadFullNews();
</script>
</body>
</html>
